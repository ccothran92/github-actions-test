name: "My Node Container"
on: push
jobs:
  checkout-job:
    name: Check out Code
    runs-on: ubuntu-latest
    steps:
      - name: checkout
        uses: actions/checkout@v1
      - name: List entire directory contents
        run: |
          ls -a
      - name: Current working directory
        run: pwd
  node-docker:
    name: Run Docker
    runs-on: ubuntu-latest
    container:
      image: node:13.5.0-alpine3.10
    steps: 
      - name: Log Node Version
        run: |
          mkdir results
          echo 'Saving results to myfile.txt'
          npm -v > results/myfile.txt
          echo 'Done running command'
      - name: List entire directory contents in Container
        run: |
          ls -a
      - name: List all my env vars in container
        run: printenv
      - name: Run NPM install
        run: npm install
      - name: Run a script
        uses: ubuntu-latest
        with:
          entrypoint: ./script.sh
          args: "this is my message from actions"
  docker-take-two:
    name: Docker steps
    runs-on: ubuntu-latest
    container:
      image: node:10.18.0-jessie
    steps:
      - name: log node Version
        run: node -v
      - name: Step with docker-take-two
        uses: docker://node:12.14.1-alpine3.10
        with:
          entrypoint: "/bin/echo"
          args: "Hello my dudes"
      - name: Log node version
        uses: docker://node:12.14.1-alpine3.10
        with:
          entrypoint: /usr/local/bin/node
          args: -v






    